<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://image.ibb.co/nqbdHJ/titlelogo.png" rel="icon">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link href="https://raw.githack.com/Arza-3d/ar3.js/master/stylesheets/ar3.min.css" rel="stylesheet" type="text/css">
    <title>learning note</title>
  </head>
  <body
    data-repo-r3="https://github.com/Arza-3d/UE4-jump-mechanic"
    data-headers-r3="> div > h2| > div > h3 "
  >
    <script src="https://raw.githack.com/Arza-3d/ar3.js/master/ar3header.js"></script>
    <header>
      <h1>jump mechanic</h1>
      <h4>jump mechanic study in Unreal Engine 4</h4>

      <p>......</p>
    </header>
    <main class="aside-nav-target-r3">
      <div data-title-r3="basic">
        <h2>basic physics of jump</h2>
        <h3>Jump cheatsheet</h3>
        <section>
          <p>Below are quick example on setting up character jump:</p>
          <ul>
            <li>
              Make character jump 3 meter:
              <br><code>CharacterMovement.JumpZVelocity = </code>
              <br>
              <pre>float jumpHeight = 300.0f;<br>UCharacterMovementComponent.JumpZVelocity = Sqrt(2 * UCharacterMovementComponent.GetGravityZ() * UCharacterMovementComponent.GravityScale * jumpHeight);</pre>
            </li>
            <li>
              Make character jump 3 meter and 2 second:
            </li>
          </ul>
        </section>
      </div>
      <div data-title-r3="main BPcomponent">
        <h2>parent class</h2>
        <h3>JumpMechanic</h3>
        <section>
          <p><code>JumpMechanic</code> is <code>BlueprintComponent</code> that will be the <b>parent class</b> of all jump mechanics that will be created in this project.</p>
          <p>Will have this method:</p>
          <ul>
            <li>
              You can call <code>GetJumpPeak</code> <b>event</b> that will call <code>JumpPeak</code> <b>event dispatcher</b> at the right time. <br>That right time is when the owner <code>Character</code> reach <var>v<sub>z</sub> velocity = 0</var>.<br> Some jump mechanic will need it, some don't, if you wanna activate it must be activated after <code><em>Character</em>.Jump();</code>
            </li>
            <li>
              <code><span style="color:green">float</span> CalculateJumpZVelocity(<span style="color:green">float</span> Height);</code> is function that calculate <code>JumpZVelocity</code> based on the <b>desired max jump height</b>.
              <br>
              <details>
                <summary>the math of the function:</summary>
                <img src="https://image.ibb.co/fA2Od0/Gravity-Formula-Copy.jpg" alt="Gravity-Formula-UE4">
              </details>
              <details>
                <summary>example:</summary>

                  Make character that jump <b style="color:green">200</b> cm. So the <code>JumpZVelocity</code> is:
                <code>Character.JumpZVelocity = _JumpMechanic.CalculateJumpZVelocity(<b style="color:green">200</b>);</code>
              </details>
              <br>
            </li>
            <li>
              <code>void SetJumpZVelocityAndGravityScale(float JumpHeight, float JumpTime);</code>
            </li>
          </ul>
        </section>

        <h2>child class</h2>
        <h3>JumpThenGlide</h3>
        <section>
          <p>Character able to glide in the air after jump. <br>I think Rayman and Spyro used this jump mechanic.</p>
          <p>This component contains these events:</p>
          <ul>
            <li><code>InputActionJumpPressed</code> or <code>InputActionJumpPressed_estimated</code></li>
            <li><code>InputActionJumpReleased</code></li>
            <li><code>EventOnLanded</code></li>
          </ul>
        </section>
      </div>
      <div data-title-r3="additional BPcomponent">
        <h2>additional BPComponent</h2>
        <h3>JumpTracker</h3>
        <section>
          <p>This is used to show the jump track and show this data:</p>
          <ul>
            <li>jump height (z)</li>
            <li>jump distance (x, y)</li>
            <li>jump time (optional)</li>
          </ul>
          <hr>
          <p>How to use:</p>
          <ol>
            <li>attach this component to <code>character</code> blueprint</li>
            <li>on <code>EventOnJumped</code> call <code>JumpTracker.EventOnJumped</code> event</li>
          </ol>
        </section>
        <h3>KeyboardTracker</h3>
        <section>
          <p>This is used to show the button input that is pressed during the demo</p>
        </section>
      </div>
    </main>
    <script src="https://raw.githack.com/Arza-3d/ar3.js/master/ar3.min.js"></script>
  </body>
</html>
