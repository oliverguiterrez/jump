<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://image.ibb.co/nqbdHJ/titlelogo.png" rel="icon">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link href="https://raw.githack.com/Arza-3d/ar3.js/master/stylesheets/ar3.min.css" rel="stylesheet" type="text/css">
    <title>üéÆ jump mechanic study in UE4</title>
    <style>
      table.blank-r3, table.blank-r3 tbody, table.blank-r3 tr, table.blank-r3 td, table.blank-r3 th {
        background-color: transparent !important;
        border-color: transparent !important;
        border: none !important;
      }
      table.blank-r3 td:first-child {
        font-weight: bold;
        padding-left: 0;
      }
      table.blank-r3 td:first-child::after {
        content: ":";
        float: right;
      }
      .comment-r3 .green-r3{color: rgba(0,128,0,0.5)}
      .comment-r3 .blue-r3{color: rgba(0,0,128,0.5)}
      .comment-r3 .grey-r3{color: rgba(128,128,128,0.5)}
      .com{
        font-style: italic;
        color: rgba(0,0,0,0.2) !important;
      }
      .gist-it-gist .gist-file .gist-data, .gister-gist .gist-file .gist-data {
        background-color: #eee !important;
      }
      pre {
        font-family: "Roboto Mono",Consolas,monospace !important;
        font-size: 10px;
        tab-size: 4;
      }
      summary {
        font-weight: normal;
      }
    </style>
  </head>
  <body
    data-repo-r3="https://github.com/Arza-3d/UE4-jump-mechanic"
    data-headers-r3="> div > h2| > div > h3| div > section > h4 "
  >
    <script src="https://raw.githack.com/Arza-3d/ar3.js/master/ar3header.js"></script>
    <header>
      <h1>jump mechanic</h1>
      <h4>jump mechanic study in Unreal Engine 4</h4>
      <table>
        <tr>
          <td>author</td>
          <td>Forest Guhareza</td>
        </tr>
        <tr>
          <td>game engine</td>
          <td>Unreal Engine 4.19.2</td>
        </tr>
        <tr>
          <td>project name</td>
          <td style="font-weight:bold">StudyJumpMechanic</td>
        </tr>
        <tr>
          <td>project template</td>
          <td>Third Person</td>
        </tr>
        <tr>
          <td>project repo</td>
          <td><a href="https://github.com/Arza-3d/UE4-jump-mechanic">github.com/Arza-3d/UE4-jump-mechanic</a></td>
        </tr>
      </table>
      <p>
        This is study project on jump mechanics implementation in Character class in UE4. The study will be done by recreating any jump mechanics in 2 ways:
      </p>
      <ol>
        <li>
          <b>Pure blueprint</b> : create the jump mechanic inside <u>ActorComponent</u>,
          <br>then this component is attached inside character blueprint.
          <br>This <u>actor components</u> will be created in this folder:<br>

          <code>üìÅContent/üìÅBlueprintComponents/üìÅJumpMechanic/<a href="https://github.com/Arza-3d/UE4-jump-mechanic/tree/master/Content/BlueprintComponents/JumpMechanic/ChildClass">üìÅChildClass</a></code>
        </li>
        <li>
          <b>Pure C++</b> : create the jump mechanic directly inside a c++ character class.
          <br>Then create character blueprint from that c++ character class.
          <br>This <u>c++ character classes</u> will be created in this folder:
          <br>
          <code>üìÅSource/üìÅ<a href="https://github.com/Arza-3d/UE4-jump-mechanic/tree/master/Source/StudyJumpMechanic">StudyJumpMechanic</a></code>
        </li>
      </ol>

      <span>
        note: <u style="text-decoration-color:red">Epic assets that are used in this project are <b>gitignored</b></u>.
        <br>
        <br>
      </span>


    </header>
    <main class="aside-nav-target-r3">

      <div data-title-r3="jump mechanics:">
        <h2>intro</h2>
        <div>
          <p>
            Currently here is the progress of this project:
          </p>
          <ul>
            <li>
              List of <b class="green-r3">finished</b> jump mechanics :
            </li>
            <ul>
              <li>
                <b>Sprint jump</b> like in Mario Bros or Pepsiman
              </li>
              <li>
                <b>Auto sprint jump</b> like in Unravel
              </li>
              <li>
                <b>Secondary jump</b> like in Tenchu 2
              </li>
              <li>
                <b>Multiple jump</b> like Sanji jump ability in One Piece
              </li>
              <li>
                <b>Jump then glide</b> like Rayman or Spyro
              </li>
            </ul>
            <li>
              List of jump mechanics that are not here yet :
              <ul>
                <li>
                  <b>Charged jump</b> like in Tony Hawk or any snowboarding game
                </li>
                <li>
                  <b>Jump from wall to wall</b> like in Prince of Persia
                </li>
                <li>
                  <b>Jump then fast fall</b>
                </li>
                <li>
                  <b>Jump on enemy</b> like in Batman Arkham
                </li>
                <li>
                  <b>Auto jump</b> like in Assassin's Creed
                </li>
              </ul>
            </li>
            <li>
              <details>
                <summary>List of solved failures :</summary>
                <ul>
                  <li>
                    Override <code>Landed</code> could make <code>EventOnLanded</code> inside blueprint won't be fired
                  </li>
                  <li>
                    There is <code>NotifyJumpApex</code> in blueprint and C++, <br>no need to make new function for that task
                  </li>
                  <li>
                    Keep it simple
                  </li>
                </ul>
              </details>
            </li>
            <li>
              <details>
                <summary style="font-weight:normal">List of unsolved failures :</summary>
                <ul>
                  <li>
                    Somehow Muriel C++ character example won't use gliding animation...
                  </li>
                </ul>
              </details>
            </li>
          </ul>

        </div>

        </script>
        <h2>jump mechanics : </h2>

        <h3 id="sprintJump">Sprint Jump</h3>
        <section>
          <table class="blank-r3">
            <tbody>
              <tr>
                <td>pure Blueprint &emsp;</td>
                <td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/JumpMechanic.uasset">
                    <code>
                      <img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">JumpMechanic
                    </code>
                  </a>
                  &#9658;
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/ChildClass/SprintJump.uasset">
                    <code>
                      <img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">SprintJump
                    </code>
                  </a>
                </td>
              </tr>
              <tr>
                <td>pure C++</td>
                <td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/SprintJumpCharacter.h">
                    <code>SprintJumpCharacter.h</code>
                  </a>
                  +
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/SprintJumpCharacter.cpp">
                    <code>SprintJumpCharacter.cpp</code>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div>
            <p>
              <b>Sprint jump</b> : character ability to jump higher when they jump after sprinting. Sprint jump height will be based on character horizontal speed before jump. <u>Horizontal speed</u> and <u>jump z-initial speed</u> have <u>linear relationship</u>.
            </p>
            <p>
              I think <a href="https://en.wikipedia.org/wiki/Super_Mario_Bros.">Mario Bros</a> and <a href="https://en.wikipedia.org/wiki/Pepsiman_(video_game)">Pepsiman</a> use this kind of jump mechanic.
            </p>
          </div>
          <h4>pure Blueprint</h4>
          <div>
            <p>
              In pure blueprint this sprint jump mechanic is made inside <code>SprintJump</code> blueprint component, which is the child of <code>JumpMechanic</code> blueprint component.<br>
              <br>Below is character example using that component:
            </p>
            <iframe src="https://www.youtube.com/embed/ZGwtiyz7sz4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>

            <br>
            example use in video:
            <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/SprintJump/FengMaoAnimBP_SprintJump.uasset">
              <code>
                FengMaoAnimBP_SprintJump
              </code>
            </a>
            +
            <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/SprintJump/FengMaoCharBP_SprintJump.uasset">
              <code>
                FengMaoCharBP_SprintJump
              </code>
            </a>
            <br>
            outside repo dependencies: <a href="https://www.unrealengine.com/marketplace/paragon-feng-mao">Paragon: Feng Mao</a>
            <p>Implementation example of <code>SprintJump</code> inside character blueprint:</p>
            <img src="https://image.ibb.co/bxYgdA/sprint-Jump-Graph.jpg" alt="sprint-Jump-Graph">
            <p><b>note:</b></p>
            <ul>
              <li>make sure <code><span class="grey-r3">SprintJump.</span>MaxJumpZVelocity</code> &gt; <code>JumpZVelocity</code>,</li>
              <li>make sure <code><span class="grey-r3">SprintJump.</span>MaxSprintSpeed</code> &gt; <code>MaxWalkSpeed</code>.</li>
            </ul>
          </div>
          <h4>pure C++</h4>
          <div>
            <p>
              In pure C++, the sprint jump mechanic is in <code>SprintJumpCharacter.cpp</code>,
              which is the child of third person character C++ template. This jump mechanic
              require you to add one more action input (ex: <kbd>Shift</kbd> ) which is not part of third person template.
            </p>
            <div class="tab-r3">
              <nav>
               <a><var>SprintJumpCharacter</var>.h</a>
               <span>+</span>
               <a><var>SprintJumpCharacter</var>.cpp</a>
               <span>+</span>
               <a>DefaultInput.ini</a>
             </nav>
             <div>
               <div>
                 <p>class member declaration:</p>
                 <script src="http://gist-it.appspot.com/http://github.com/Arza-3d/UE4-jump-mechanic/raw/master/Source/StudyJumpMechanic/SprintJumpCharacter.h"></script>
               </div>
               <div>
                 <p>Sprint jump mechanic logic:</p>
                 <script src="http://gist-it.appspot.com/http://github.com/Arza-3d/UE4-jump-mechanic/raw/master/Source/StudyJumpMechanic/SprintJumpCharacter.cpp"></script>
               </div>
               <div>
                 <p>add player input <kbd>Shift</kbd> in <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Config/DefaultInput.ini"><code>GameInput.ini</code></a> :</p>
                 <pre>
                   +ActionMappings=(ActionName=<span class="green-r3">"SecondaryInput"</span>,Key=LeftShift,bShift=False,bCtrl=False,bAlt=False,bCmd=False)
                 </pre>
               </div>
             </div>
            </div>
          </div>
        </section>

        <h3>Auto Sprint Jump</h3>
        <section>
          <table class="blank-r3">
          	<tbody>
          		<tr>
          			<td>pure Blueprint &emsp;</td>
          			<td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/JumpMechanic.uasset">
                    <code>
                      <img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">JumpMechanic
                    </code>
                  </a>
                  &#9658;
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/ChildClass/SprintJump_auto.uasset">
                    <code>
                      <img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">SprintJump_auto
                    </code>
                  </a>
          			</td>
          		</tr>
          		<tr>
          			<td>pure C++</td>
          			<td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/SprintJump_autoCharacter.h">
                    <code>SprintJump_autoCharacter.h</code>
                  </a>
                  +
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/SprintJump_autoCharacter.cpp">
                    <code>SprintJump_autoCharacter.cpp</code>
                  </a>
          			</td>
          		</tr>
          	</tbody>
          </table>
          <div>
            <p>
              <b>Auto sprint jump</b> : character has no sprint input,
              so the normal jump will always depended on how fast it walked before the jump.
              Just like before the horizontal speed and jump z-initial speed have linear relationship.
            </p>
            <p>
              I think <a href="https://www.youtube.com/watch?v=QpnY1G3vt_0">Unravel</a> used this system.
            </p>
          </div>
          <h4>pure Blueprint</h4>
          <div>
            <p>
              In pure blueprint this jump mechanic is made in <code>SprintJump_auto</code> blueprint component, which is the child of <code>JumpMechanic</code> blueprint component.
            </p>
          </div>
          <h4>pure C++</h4>
          <div>
            <p>
              In pure C++, the sprint jump mechanic is in <code>SprintJump_autoCharacter.cpp</code>,
              which is the child of third person character C++ template.
            </p>
            <div class="tab-r3">
              <nav>
                <a><var>SprintJump_autoCharacter</var>.h</a>
                <a><var>SprintJump_autoCharacter</var>.cpp</a>
              </nav>
              <div  class="cpp-codexes-r3"
                data-cpp-class-r3="SprintJump_autoCharacter"
                data-cpp-funct-r3="GetXYSpeed,Sprint,StopSprinting"
                data-cpp-var-r3="DefaultJumpZVelocity,MaxJumpZVelocity,GradientJumpToSpeed"
                data-cpp-var2-r3="bIsSprinting,bIsInSprintJump"
              >
                <div>
                  <p>class member declaration</p>
                  <pre>
                    #pragma once

                    #include "CoreMinimal.h"
                    #include "StudyJumpMechanicCharacter.h"
                    #include "SprintJump_autoCharacter.generated.h"

                    /**
                     * Character class with built-in auto-sprint jump
                     */
                    UCLASS()
                    class STUDYJUMPMECHANIC_API ASprintJump_autoCharacter : public AStudyJumpMechanicCharacter
                    {
                    	GENERATED_BODY()

                    	float DefaultJumpZVelocity;

                    	float GradientJumpToSpeed;

                    public:

                    	ASprintJump_autoCharacter();

                    	void Jump() override;

                    	void Landed(const FHitResult & Hit) override;

                    protected:

                    	// this value should be higher than CharacterMovement.JumpZVelocity
                    	UPROPERTY(BlueprintReadWrite, EditAnywhere, Category = "Auto Sprint Jump")
                    	float MaxJumpZVelocity;

                    	float GetXYSpeed();

                    };
                  </pre>
                </div>
                <div>
                  <p>auto sprint jump logic :</p>
                  <pre>
                    #include "SprintJump_autoCharacter.h"
                    #include "GameFramework/CharacterMovementComponent.h"
                    #include "Components/CapsuleComponent.h"
                    #include "Kismet/KismetMathLibrary.h"

                    ASprintJump_autoCharacter::ASprintJump_autoCharacter()
                    {
                    	DefaultJumpZVelocity = GetCharacterMovement()->JumpZVelocity;
                    	MaxJumpZVelocity = 1200.0f;
                    	GradientJumpToSpeed = (MaxJumpZVelocity - DefaultJumpZVelocity) / GetCharacterMovement()->MaxWalkSpeed;
                    }

                    float ASprintJump_autoCharacter::GetXYSpeed()
                    {
                    	FVector ActorVelocity = GetCapsuleComponent()->GetPhysicsLinearVelocity();
                    	float xSpeedSquared = UKismetMathLibrary::Square(ActorVelocity.Component(0));
                    	float ySpeedSquared = UKismetMathLibrary::Square(ActorVelocity.Component(1));
                    	return UKismetMathLibrary::Sqrt(xSpeedSquared + ySpeedSquared);
                    }

                    void ASprintJump_autoCharacter::Jump()
                    {
                    	float NewJumpZVelocity = GradientJumpToSpeed * GetXYSpeed() + DefaultJumpZVelocity;
                    	GetCharacterMovement()->JumpZVelocity = NewJumpZVelocity;
                    	Super::Jump();
                    }

                    void ASprintJump_autoCharacter::Landed(const FHitResult & Hit)
                    {
                    	GetCharacterMovement()->JumpZVelocity = DefaultJumpZVelocity;
                    }
                  </pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <h3 id="secondaryJump">Secondary Jump</h3>
        <section>
          <table class="blank-r3">
            <tbody>
              <tr>
                <td>full Blueprint &emsp;</td>
                <td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/JumpMechanic.uasset">
                    <code>
                      <img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">JumpMechanic
                    </code>
                  </a>
                  &#9658;
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/ChildClass/SecondaryJump.uasset">
                    <code>
                      <img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">SecondaryJump
                    </code>
                  </a>
                </td>
              </tr>
              <tr>
                <td>full C++</td>
                <td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/SecondaryJumpCharacter.h">
                    <code>
                      SecondaryJumpCharacter.h
                    </code>
                  </a>
                  +
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/SecondaryJumpCharacter.cpp">
                    <code>
                      SecondaryJumpCharacter.cpp
                    </code>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>
          <div>
            <p>
              <b>Secondary jump</b> / <b>Heavy Jump</b> : when character has 2 set of jump modes. There are the default jump and the secondary jump (which usually is higher than the default jump)
            </p>
            <p>
              Rikimaru and Ayame from <a href="https://en.wikipedia.org/wiki/Tenchu_2:_Birth_of_the_Stealth_Assassins">Tenchu 2</a> use secondary jump mechanism.
            </p>
          </div>
          <h4>pure Blueprint</h4>
          <div>
            <p>
              In pure blueprint this jump mechanic is made in <code>SecondaryJump</code> blueprint component, which is the child of <code>JumpMechanic</code> blueprint component.
            </p>
            <p>Below is character example using <code>SecondaryJump</code> :</p>
            <iframe src="https://www.youtube.com/embed/YAn7L49fsk4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <br>example use in video :
            <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/SecondaryJump/KallariAnimBP_SecondaryJump.uasset">
              <code>
                KallariAnimBP_SecondaryJump
              </code>
            </a>
            +
            <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/SecondaryJump/KallariCharBP_SecondaryJump.uasset">
              <code>
                KallariCharBP_SecondaryJump
              </code>
            </a>
            <br>
            outside repo dependencies: <a href="https://www.unrealengine.com/marketplace/paragon-kallari">Paragon: Kallari</a>


            <p>Implementation example of <code>SecondaryJump</code> inside character blueprint:</p>
            <img src="https://image.ibb.co/f3i050/secondary-Jump-Graph.jpg" alt="secondary-Jump-Graph">
          </div>
          <h4>pure C++</h4>
          <div>
            <p>
              In pure C++, this jump mechanic is in <code>SecondaryJumpCharacter.cpp</code>,
              which is the child of third person character C++ template. Additional player input is needed,
              in here I am using <kbd>Shift</kbd>.
            </p>
            <div class="tab-r3">
              <nav>
                <a><var>SecondaryJumpCharacter</var>.h</a>
                <a><var>SecondaryJumpCharacter</var>.cpp</a>
                <a>DefaultInput.ini</a>
              </nav>
              <div>
                <div>
                  <p>class member declaration</p>
                  <script src="http://gist-it.appspot.com/http://github.com/Arza-3d/UE4-jump-mechanic/raw/master/Source/StudyJumpMechanic/SecondaryJumpCharacter.h"></script>
                </div>
                <div>
                  <p>secondary jump logic :</p>
                  <script src="http://gist-it.appspot.com/http://github.com/Arza-3d/UE4-jump-mechanic/raw/master/Source/StudyJumpMechanic/SecondaryJumpCharacter.cpp"></script>
                </div>
                <div>
                  <p>
                    add player input <kbd>Shift</kbd> in <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Config/DefaultInput.ini"><code>GameInput.ini</code></a> :
                  </p>
                  <pre>
                    +ActionMappings=(ActionName="SecondaryInput",Key=LeftShift,bShift=False,bCtrl=False,bAlt=False,bCmd=False)
                  </pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <h3 id="jumpThenGlide">Jump then Glide</h3>
        <section>
          <table class="blank-r3">
          	<tbody>
          		<tr>
          			<td>full Blueprint &emsp;</td>
          			<td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/JumpMechanic.uasset">
                    <code><img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">JumpMechanic</code>
                  </a>
                  &#9658;
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/BlueprintComponents/JumpMechanic/ChildClass/JumpThenGlide.uasset">
                    <code><img src="https://image.ibb.co/c4VKMV/UE4-blueprint-component.jpg" alt="UE4-blueprint-component">JumpThenGlide</code>
                  </a>
          			</td>
          		</tr>
          		<tr>
          			<td>full C++</td>
          			<td>
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/JumpThenGlideCharacter.h">
                    <code>
                      JumpThenGlideCharacter.h
                    </code>
                  </a>
                  +
                  <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Source/StudyJumpMechanic/JumpThenGlideCharacter.cpp">
                    <code>
                      JumpThenGlideCharacter.cpp
                    </code>
                  </a>
          			</td>
          		</tr>
          	</tbody>
          </table>
          <div>
            <p>
              <b>Jump then glide</b>: character able to glide in the air after jump. In this jump mechanic, the glide is achieved throu changing \(g\)  after character has reached jump apex <span class="comment-r3">( if the player hold the <kbd style="color:transparent">Space</kbd> key )</span>. \(g\) is changed to smaller value, but still \(g\gt0\), so if you wanna simulate character that jump with <u>parachute</u> that will have <u>long distance fall, don't use this</u>.
            </p>
            <p>
              I think <a href="https://en.wikipedia.org/wiki/Rayman_Legends">Rayman</a> and <a href="https://en.wikipedia.org/wiki/Spyro">Spyro</a> used this jump mechanic.
            </p>
          </div>
          <h4>pure Blueprint</h4>
          <div>
            <p>
              In pure blueprint this jump mechanic is made in <code>JumpThenGlide</code> blueprint component, which is the child of <code>JumpMechanic</code> blueprint component.
            </p>
            <p>Below is the example of character using <code>JumpThenGlide</code> :</p>
            <iframe src="https://www.youtube.com/embed/jQ0DXUmH47o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <br>example use in video :
            <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/GlideJump/MurielAnimBP_GlideJump.uasset">
              <code>
                MurielAnimBP_GlideJump
              </code>
            </a>
            +
            <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/GlideJump/MurielCharBP_GlideJump.uasset">
              <code>
                MurielCharBP_GlideJump
              </code>
            </a>
            <br>
            outside repo dependencies: <a href="https://www.unrealengine.com/marketplace/paragon-muriel">Paragon: Muriel</a>
            <p>
              Implementation example of <code>JumpThenGlide</code> inside characterBP:
            </p>
            <img src="https://image.ibb.co/cnyH3L/Glide-Jump.jpg" alt="Glide-Jump">
          </div>
          <h4>pure C++</h4>
          <div>
            <p>
              <p>
                In pure C++, this jump mechanic is in <code>SprintJumpCharacter.cpp</code>,
                which is the child of third person character C++ template.
              </p>
              <div class="tab-r3">
                <nav>
                 <a><var>JumpThenGlideCharacter</var>.h</a>
                 <a><var>JumpThenGlideCharacter</var>.cpp</a>
               </nav>
               <div class="cpp-codexes-r3"
                 data-cpp-class-r3="JumpThenGlideCharacter"
                 data-cpp-var-r3="DefaultGravityScale,bJumpInputIsPressed,bIsAbleToGlide,GlideGravityScale"
                 data-cpp-var2-r3="bIsGliding"
               >
                 <div>
                   <p>class member declaration:</p>
                   <pre>
                     #pragma once

                     #include "CoreMinimal.h"
                     #include "StudyJumpMechanicCharacter.h"
                     #include "JumpThenGlideCharacter.generated.h"

                     /**
                      *  Character class with built-in jump then glide
                      */
                     UCLASS()
                     class STUDYJUMPMECHANIC_API AJumpThenGlideCharacter : public AStudyJumpMechanicCharacter
                     {
                     	GENERATED_BODY()

                     	float DefaultGravityScale;

                     	bool bJumpInputIsPressed;

                     	bool bIsAbleToGlide;

                     public:

                     	AJumpThenGlideCharacter();

                     	void Jump() override;

                     	void StopJumping() override;

                     	void NotifyJumpApex() override;

                     	void Landed(const FHitResult & Hit) override;

                     protected:

                     	UPROPERTY(BlueprintReadWrite, EditAnywhere, Category = "Jump Then Glide")
                     	float GlideGravityScale;

                     	// is meant to be used for animBP (optional)
                     	UPROPERTY(BlueprintReadOnly, Category = "Jump Then Glide")
                     	bool bIsGliding;

                     };
                   </pre>
                 </div>
                 <div>
                   <p>jump then glide mechanic logic:</p>
                   <pre>
                     #include "JumpThenGlideCharacter.h"
                     #include "GameFramework/CharacterMovementComponent.h"

                     AJumpThenGlideCharacter::AJumpThenGlideCharacter()
                     {
                     	DefaultGravityScale = GetCharacterMovement()->GravityScale;
                     	GlideGravityScale = 0.08f;
                     	bJumpInputIsPressed = false;
                     	bIsAbleToGlide = false;

                     	// is meant to be used with animBP (optional)
                     	bIsGliding = false;
                     }

                     void AJumpThenGlideCharacter::Landed(const FHitResult & Hit)
                     {
                     	bIsAbleToGlide = false;
                     	GetCharacterMovement()->bNotifyApex = false;
                     	GetCharacterMovement()->GravityScale = DefaultGravityScale;
                     	bIsGliding = false;
                     }

                     void AJumpThenGlideCharacter::Jump()
                     {
                     	bJumpInputIsPressed = true;

                     	if (GetCharacterMovement()->IsFalling())
                     	{
                     		if (bIsAbleToGlide && bJumpInputIsPressed) {
                     			GetCharacterMovement()->GravityScale = GlideGravityScale;
                     			bIsGliding = true;
                     		}
                     	}
                     	else
                     	{
                     		Super::Jump();
                     		GetCharacterMovement()->bNotifyApex = true;
                     	}
                     }

                     void AJumpThenGlideCharacter::StopJumping()
                     {
                     	bJumpInputIsPressed = false;
                     	GetCharacterMovement()->GravityScale = DefaultGravityScale;
                     	bIsGliding = false;
                     	Super::StopJumping();
                     }

                     void AJumpThenGlideCharacter::NotifyJumpApex()
                     {
                     	bIsAbleToGlide = true;
                     	if (bJumpInputIsPressed) {
                     		GetCharacterMovement()->GravityScale = GlideGravityScale;
                     		bIsGliding = true;
                     	}
                     }
                   </pre>
                 </div>
               </div>
              </div>
            </p>
          </div>
        </section>

        <h3 id="multipleJumps">MultipleJumps</h3>
        <section>
          <b>note</b> : I didn't make this jump mechanic as separate blueprint component, because it's easy to set up inside character, and actually <code>CurrentJumpCount</code> inside character is protected variable.
          <hr>
          <iframe src="https://www.youtube.com/embed/ll8QgypVnas" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          <br>example use in video :
          <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/MultipleJumps/HowitzerAnimBP_MultipleJumps.uasset">
            <code>
              HowitzerAnimBP_MultipleJumps
            </code>
          </a>
          +
          <a href="https://github.com/Arza-3d/UE4-jump-mechanic/blob/master/Content/CharacterExamples/MultipleJumps/HowitzerCharBP_MultipleJumps.uasset">
            <code>
              HowitzerCharBP_MultipleJumps
            </code>
          </a>
          <br>
          outside repo dependencies: <a href="https://www.unrealengine.com/marketplace/paragon-howitzer">Paragon: Howitzer</a>
          <hr>
          <p>
            <b>Multiple Jumps</b> : character ability jump in the air, this include double jump, which basically just multiple jump with 2 jumps limit, in the example above it was just <code>JumpMaxCount = 3</code>.
          </p>

        </section>

    </main>
    <script src="https://raw.githack.com/Arza-3d/ar3.js/master/ar3.min.js"></script>
    <script type="text/javascript">
    $('.com:contains("#include")').css(
      {
        'font-style' : 'normal',
        'color' : 'black'
      }
    );
    /*
      let $preText = $('pre:contains("#include")');
      for (let i = 0; i < $preText.length; i++) {
        let preText = $($preText[i]).html();
        preText = preText.replace(/\<span class="com">#include<\/span>/g, '#include');
        preText = preText.replace(/\<span class="com">#pragma<\/span>/g, '#pragma');
        $preText[i].innerHTML = preText;
      }
    */

    </script>
  </body>
</html>
